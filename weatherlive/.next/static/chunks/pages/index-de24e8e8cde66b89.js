(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3454:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(7663)},5557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6871)}])},6871:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(5893),a=r(7294),o=r(3967),s=r.n(o),i=e=>{let{onFetchWeather:t,buttonColor:r}=e,[o,i]=(0,a.useState)("");return(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(o)},id:"weather-form",className:"flex flex-col items-center mb-4 w-full max-w-sm font-sans",children:[(0,n.jsx)("input",{type:"text",value:o,onChange:e=>i(e.target.value),placeholder:"Enter city name",required:!0,className:"p-2 border border-gray-300 rounded mb-2 w-full"}),(0,n.jsx)("button",{type:"submit",className:s()("text-white p-2 rounded w-full",r),children:"Search"})]})},c=e=>{let{weather:t,forecast:r,backgroundClass:a}=e;if(!t)return null;let o="http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@4x.png"),i=(e=>{let t=new Date;return new Date(t.getTime()+6e4*t.getTimezoneOffset()+1e3*e)})(t.timezone);return(0,n.jsxs)("div",{id:"weather-display",className:s()("rounded-lg shadow-md p-4 max-w-sm mx-auto text-center bg-opacity-50 font-sans",a),children:[(0,n.jsx)("p",{className:"text-2xl",children:t.name}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,n.jsx)("div",{children:(0,n.jsx)("img",{src:o,alt:t.weather[0].description,className:"mx-auto mb-2 animate-bounceInOut sm:mb-0"})}),(0,n.jsxs)("div",{className:"sm:ml-4",children:[(0,n.jsxs)("h1",{className:"text-4xl font-semibold mb-2",children:[t.main.temp,"\xb0C"]}),(0,n.jsx)("p",{className:"text-xl",children:t.weather[0].description}),(0,n.jsx)("p",{className:"text-xl",children:i.toLocaleDateString("en-US",{weekday:"long"})}),(0,n.jsx)("p",{className:"text-xl",children:i.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),(0,n.jsx)("p",{className:"text-xl",children:i.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Hourly Forecast"}),(0,n.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4",children:r?r.list.slice(0,5).map((e,t)=>{let r="http://openweathermap.org/img/wn/".concat(e.weather[0].icon,".png");return(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{children:new Date(1e3*e.dt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),(0,n.jsx)("img",{src:r,alt:e.weather[0].description}),(0,n.jsxs)("p",{children:[e.main.temp,"\xb0C"]})]},t)}):null})]})]})},u=e=>{let{error:t}=e;if(!t)return null;let r="API key is invalid or missing"===t;return(0,n.jsxs)("div",{id:"error-display",className:"flex items-center justify-center mt-4 p-4 border border-red-500 rounded-lg bg-red-100 text-red-700 max-w-md mx-auto shadow-lg",children:[(0,n.jsx)("svg",{className:"w-6 h-6 mr-2 text-red-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18.364 5.636a9 9 0 11-12.728 0M12 9v2m0 4h.01"})}),(0,n.jsxs)("p",{className:"text-center",children:[(0,n.jsx)("strong",{children:r?"Unauthorized:":"Error:"})," ",t]})]})},l=r(3454),d=e=>{let{initialWeather:t,initialForecast:r,initialError:o}=e,[d,h]=(0,a.useState)(t),[g,m]=(0,a.useState)(r),[f,p]=(0,a.useState)(o),[w,b]=(0,a.useState)("bg-white"),[x,y]=(0,a.useState)("bg-white"),v=async e=>{try{let t=await fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&appid=").concat(l.env.NEXT_PUBLIC_WEATHER_API_KEY));if(!t.ok){if(401===t.status)throw Error("API key is invalid or missing");if(404===t.status)throw Error("City not found");throw Error("An error occurred while fetching the weather data")}let r=await t.json(),n=await fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&units=metric&appid=").concat(l.env.NEXT_PUBLIC_WEATHER_API_KEY));if(!n.ok){if(401===n.status)throw Error("Unauthorized: API key is invalid or missing");if(404===n.status)throw Error("Forecast not found");throw Error("An error occurred while fetching the forecast data")}let a=await n.json();h(r),m(a),p(null)}catch(e){p(e.message),h(null),m(null)}},j=e=>{switch(e.toLowerCase()){case"clear sky":return"bg-gradient-to-r from-blue-400 via-blue-200 to-blue-500";case"few clouds":return"bg-gradient-to-r from-gray-400 via-gray-300 to-gray-500";case"scattered clouds":case"smoke":case"dust":return"bg-gradient-to-r from-gray-500 via-gray-400 to-gray-600";case"broken clouds":return"bg-gradient-to-r from-gray-700 via-gray-600 to-gray-800";case"shower rain":case"rain":return"bg-gradient-to-r from-blue-500 via-blue-400 to-blue-600";case"light rain":return"bg-gradient-to-r from-blue-300 via-blue-200 to-blue-400";case"moderate rain":return"bg-gradient-to-r from-blue-600 via-blue-500 to-blue-700";case"heavy intensity rain":case"thunderstorm":return"bg-gradient-to-r from-blue-800 via-blue-700 to-blue-900";case"heavy thunderstorm":return"bg-gradient-to-r from-blue-900 via-blue-800 to-blue-900";case"overcast clouds":return"bg-gradient-to-r from-gray-600 via-gray-500 to-gray-700";case"snow":default:return"bg-gradient-to-r from-white via-gray-100 to-white";case"light snow":return"bg-gradient-to-r from-white via-gray-200 to-white";case"heavy snow":return"bg-gradient-to-r from-white via-gray-300 to-white";case"haze":case"mist":return"bg-gradient-to-r from-gray-200 via-gray-100 to-gray-300";case"fog":return"bg-gradient-to-r from-gray-300 via-gray-200 to-gray-400"}},N=e=>{switch(e.toLowerCase()){case"clear sky":case"shower rain":case"rain":return"bg-blue-500";case"few clouds":return"bg-gray-400";case"scattered clouds":case"smoke":case"dust":return"bg-gray-500";case"broken clouds":return"bg-gray-700";case"light rain":return"bg-blue-300";case"moderate rain":return"bg-blue-600";case"heavy intensity rain":case"thunderstorm":return"bg-blue-800";case"heavy thunderstorm":return"bg-blue-900";case"overcast clouds":return"bg-gray-600";case"snow":return"bg-gray-100";case"light snow":case"haze":case"mist":return"bg-gray-200";case"heavy snow":case"fog":return"bg-gray-300";default:return"bg-white"}};return(0,a.useEffect)(()=>{d&&(b(j(d.weather[0].description)),y(N(d.weather[0].description)))},[d]),(0,n.jsxs)("div",{id:"weatherlive-page",className:s()("min-h-screen h-screen w-screen flex flex-col items-center justify-center p-4 transition-colors duration-500 overflow-auto font-serif",w),children:[(0,n.jsx)("h1",{className:"text-4xl font-bold mb-6",children:"WeatherLive"}),(0,n.jsx)(i,{onFetchWeather:v,buttonColor:x}),(0,n.jsx)(u,{error:f}),(0,n.jsx)(c,{weather:d,forecast:g,backgroundClass:x})]})};function h(){return(0,n.jsx)("div",{className:"min-h-screen h-screen flex items-center justify-center overflow-auto",children:(0,n.jsx)(d,{})})}},7663:function(e){!function(){var t={229:function(e){var t,r,n,a=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c=[],u=!1,l=-1;function d(){u&&n&&(u=!1,n.length?c=n.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=i(d);u=!0;for(var t=c.length;t;){for(n=c,c=[];++l<t;)n&&n[l].run();l=-1,t=c.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new g(e,t)),1!==c.length||u||i(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}},s=!0;try{t[e](o,o.exports,n),s=!1}finally{s&&delete r[e]}return o.exports}n.ab="//";var a=n(229);e.exports=a}()},3967:function(e,t){var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=o(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=o(t,r));return t}(r)))}return e}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0!==(r=(function(){return a}).apply(t,[]))&&(e.exports=r)}()}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);